<!doctype html>
<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <link rel="manifest" href="/manifest.json">
    </head>
<body>
<p>Opening phone book. Some numbers will be sended to book</p>
<button id="redirectButton">Click me to open</button>
<button id="redirectButton2">Click me to open UNIVERSAL</button>
    <script>
        function receiveMessage(input) {
            window.alert(input.data.data.number);
        }
        
        window.addEventListener("message", receiveMessage, false)
        
        document.getElementById("redirectButton").onclick = myFunction;
        document.getElementById("redirectButton2").onclick = myFunction2;
        function myFunction() {
            var d = {
                "self": {
                    "number": "89991234567",
                    "name": "Себе"
                },
                "recent": [
                    {
                        "number": "89992281799",
                        "name": "Сабина",
                        "banks": ["100000000012","100000000016"]
                    },
                    {
                        "number": "89127445589",
                        "name": "Аня",
                        "banks": ["100000000056"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава1",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава2",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава3",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава4",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава5",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава6",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава7",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава8",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава9",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава10",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава11",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава12",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава13",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава14",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава15",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава16",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава17",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава18",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава19",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава20",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                ]
            }
            
            window.AndroidWebViewHandler.sendMessage(JSON.stringify({type: 'phoneNumberHandler', data: d }))
        }

        function myFunction2() {
            var d = {
                "self": {
                    "number": "89991234567",
                    "name": "Себе"
                },
                "recent": [
                    {
                        "number": "89992281799",
                        "name": "Сабина",
                        "banks": ["100000000012","100000000016"]
                    },
                    {
                        "number": "89127445589",
                        "name": "Аня",
                        "banks": ["100000000056"]
                    },
                    {
                        "number": "89129999888",
                        "name": "Слава",
                        "banks": ["100000000206","100000000012","100000000016"]
                    },
                ],
                "universalSearch": true
            }
            
            window.AndroidWebViewHandler.sendMessage(JSON.stringify({type: 'phoneNumberHandler', data: d }))
        }
    </script>
</body>
</html>
